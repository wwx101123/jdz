<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="__WCSS__/base.css">
    <link rel="stylesheet" type="text/css" href="__WCSS__/comment/questionList.css">
    <script type="text/javascript" src="__WJS__/reset.js"></script>
    <script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
    <script type="text/javascript" src="__WJS__/comment/bscroll.min.js"></script>
    <title>问题列表</title>
    <style>
    @font-face {
        font-family: 'iconfont';  /* project id 803693 */
        src: url('//at.alicdn.com/t/font_803693_utrulktu2oa.eot');
        src: url('//at.alicdn.com/t/font_803693_utrulktu2oa.eot?#iefix') format('embedded-opentype'),
        url('//at.alicdn.com/t/font_803693_utrulktu2oa.woff') format('woff'),
        url('//at.alicdn.com/t/font_803693_utrulktu2oa.ttf') format('truetype'),
        url('//at.alicdn.com/t/font_803693_utrulktu2oa.svg#iconfont') format('svg');
    }
    .iconfont {
        font-family:"iconfont" !important;
        font-style:normal;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
</style>
</head>
<body>
    <div class="wrap"  id="app">
        <!-- 头部 -->
        <div class="header">
            <div class="search-wrap">
                <div class="left-input" @click="handelToSearch">
                    <i class="iconfont">&#xe609;</i>
                    <p>搜索</p>
                </div>
                <div class="right-question" @click="handelToReport">
                    <i class="iconfont">&#xe669;</i>
                    <p>提问</p>
                </div>
            </div>
        </div>
        <!-- 内容列表 -->
        <div class="main wrapper">
            <ul class="list" >
                <li class="item" v-for="item in questionList">
                    <h3 class="item-title">{{item.title}}</h3>
                    <div class="item-con">
                        <p class="mesg">{{item.mesg}}</p>
                        <img v-if="item.imgSrc" :src="item.imgSrc" alt="">
                    </div>
                    <p class="item-agree">{{item.agreeNum}}赞同</p>
                </li>
            </ul>
        </div>

        <!-- 个人中心 -->
        <div class="center">我的</div>
    </div>
    <script>
        var wrapper = document.querySelector('.wrapper');
        var scroll = new BScroll(wrapper);
       var vm = new Vue({
            el: '#app',
            data: {
                questionList:[
                    {
                        id:0,
                        title:'有什么是你去北京必须知道的事?',
                        mesg: '有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事',
                        imgSrc:'http://f.hiphotos.baidu.com/image/pic/item/fc1f4134970a304e48f0a9dfdcc8a786c8175cc0.jpg',
                        agreeNum: 1222
                    },{
                        id:1,
                        title:'有什么是你去北京必须知道的事?',
                        mesg: '有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事',
                        // imgSrc:'http://f.hiphotos.baidu.com/image/pic/item/fc1f4134970a304e48f0a9dfdcc8a786c8175cc0.jpg',
                        agreeNum: 1222,
                    },{
                        id:1,
                        title:'有什么是你去北京必须知道的事?',
                        mesg: '有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事',
                        imgSrc:'http://f.hiphotos.baidu.com/image/pic/item/fc1f4134970a304e48f0a9dfdcc8a786c8175cc0.jpg',
                        agreeNum: 1222,
                    },{
                        id:1,
                        title:'有什么是你去北京必须知道的事?',
                        mesg: '有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事',
                        // imgSrc:'http://f.hiphotos.baidu.com/image/pic/item/fc1f4134970a304e48f0a9dfdcc8a786c8175cc0.jpg',
                        agreeNum: 1222,
                    },{
                        id:1,
                        title:'有什么是你去北京必须知道的事?',
                        mesg: '有什么是你去北京必须知道的事,有什么是你去北京必须知道的事,有什么是你去北京必须知道的事',
                        // imgSrc:'http://f.hiphotos.baidu.com/image/pic/item/fc1f4134970a304e48f0a9dfdcc8a786c8175cc0.jpg',
                        agreeNum: 1222,
                    }
                ]
            },
            methods: {
                /* 搜索 */
                handelToSearch(e){
                    location.href = "./search.html";
                },
                /* 提问 */
                handelToReport(e){
                    location.href = "./report.html";
                },
                loadData() {
                    requestData().then((res) => {
                    this.data = res.data.concat(this.data)
                    this.$nextTick(() => {
                        if (!this.scroll) {
                        this.scroll = new Bscroll(this.$refs.wrapper, {})
                        this.scroll.on('touchend', (pos) => {
                            // 下拉动作
                            if (pos.y > 50) {
                            this.loadData()
                            }
                        })
                        } else {
                        this.scroll.refresh()
                        }
                    })
                    })
                }
            }
        })
    </script>
</body>
</html>